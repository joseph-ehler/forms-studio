{
  "$schema": "./factory.config.schema.json",
  "version": "2.0.0",
  "description": "God Tier Factory Configuration - Single source of truth for all factory tooling",
  
  "paths": {
    "specs": "specs/fields/*.yaml",
    "formsFields": "packages/forms/src/fields",
    "dsFacades": "packages/ds/src/fields",
    "refinerMaps": "scripts/refiner/maps"
  },
  
  "policies": {
    "dsInternalImports": "relative-only",
    "externalImports": "barrel-only",
    "propsOnDOM": "allowlist-only"
  },
  
  "generator": {
    "version": "2.0.0",
    "templateVersion": "2.0.0",
    "selfTest": true,
    "features": {
      "propFiltering": true,
      "duplicateDetection": true,
      "defaultQuoting": true
    }
  },
  
  "refiner": {
    "version": "1.1.0",
    "autoRun": "pre-commit",
    "transforms": [
      {
        "name": "filter-dom-props",
        "version": "1.1.0",
        "enabled": true
      }
    ],
    "allowlist": "scripts/refiner/maps/html-allowlist.json"
  },
  
  "guardrails": {
    "repoSteward": {
      "enabled": true,
      "rootFiles": [
        "README.md",
        "package.json",
        "renovate.json",
        "cspell.json",
        "tsconfig.json",
        "turbo.json",
        "playwright.config.ts",
        "dangerfile.mjs"
      ]
    },
    "importDoctor": {
      "enabled": true,
      "skipLegacyPaths": [
        "packages/ds/src/fields/",
        "packages/ds/src/components/",
        "packages/ds/src/compat/",
        "packages/ds/src/context/",
        "packages/ds/src/renderer/",
        "packages/ds/src/rhf/",
        "packages/ds/src/a11y/",
        "packages/ds/src/lib/",
        "packages/ds/src/tokens/themes/"
      ]
    },
    "namePolice": {
      "enabled": true,
      "exemptions": [
        "packages/ds/src/fields/",
        "packages/ds/src/components/"
      ]
    }
  },
  
  "ci": {
    "generatorTest": {
      "enabled": true,
      "command": "node scripts/process/test-generator.mjs"
    },
    "refinerCheck": {
      "enabled": true,
      "scope": "packages/forms/src/fields/**/*.tsx",
      "mustBeClean": true
    }
  },
  
  "nightly": {
    "enabled": false,
    "tasks": [
      "pnpm tokens:codegen",
      "pnpm barrels",
      "pnpm refine:run --apply",
      "pnpm preflight:green"
    ]
  },
  
  "metrics": {
    "targetVelocity": "6 min/field",
    "currentVelocity": "15 min/field",
    "targetManualFixRate": "0%",
    "currentManualFixRate": "0%"
  }
}
