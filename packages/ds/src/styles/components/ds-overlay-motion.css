/**
 * Overlay Motion & Animations
 * 
 * Respects prefers-reduced-motion for accessibility
 */

@layer components {
  /* Default animations for overlays */
  .ds-overlay,
  .ds-sheet,
  .ds-popover {
    transition-property: opacity, transform, translate;
    transition-duration: 200ms;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .ds-backdrop {
    transition: opacity 150ms ease-out;
  }
  
  /* Disable all animations when user prefers reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .ds-overlay,
    .ds-sheet,
    .ds-popover,
    .ds-backdrop {
      transition: none !important;
      animation: none !important;
    }
    
    /* Instant show/hide */
    .ds-overlay[data-state="open"] {
      opacity: 1;
    }
    
    .ds-overlay[data-state="closed"] {
      opacity: 0;
    }
  }
  
  /* Entrance animations (when not reduced motion) */
  @media (prefers-reduced-motion: no-preference) {
    .ds-sheet[data-state="opening"] {
      animation: slide-up 200ms cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .ds-popover[data-state="opening"] {
      animation: scale-fade-in 150ms cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .ds-backdrop[data-state="opening"] {
      animation: fade-in 150ms ease-out;
    }
  }
  
  /* Keyframes */
  @keyframes slide-up {
    from {
      translate: 0 100%;
      opacity: 0;
    }
    to {
      translate: 0 0;
      opacity: 1;
    }
  }
  
  @keyframes scale-fade-in {
    from {
      transform: scale(0.95);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  }
  
  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }
}
