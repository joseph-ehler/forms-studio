/**
 * Color Tokens - Tailwind Palette Integration
 * 
 * Architecture: Semantic → Alias → Raw (Tailwind)
 * - Components use semantic tokens ONLY
 * - Themes map semantic → alias (neutral/brand)
 * - Raw layer = Tailwind palette values
 * 
 * Benefits:
 * - Unlimited Tailwind colors available
 * - Runtime brand/theme switching (no rebuild)
 * - Components never touch raw values
 * - White-labeling via data attributes
 */

@layer tokens {
  /* ==========================================
     RAW LAYER: Tailwind Palette Values
     ========================================== */
  
  :root {
    /* Neutral palette - Tailwind neutral */
    --tw-neutral-50:  #fafafa;
    --tw-neutral-100: #f5f5f5;
    --tw-neutral-200: #e5e5e5;
    --tw-neutral-300: #d4d4d4;
    --tw-neutral-400: #a3a3a3;
    --tw-neutral-500: #737373;
    --tw-neutral-600: #525252;
    --tw-neutral-700: #404040;
    --tw-neutral-800: #262626;
    --tw-neutral-900: #171717;
    --tw-neutral-950: #0a0a0a;
    
    /* Zinc palette (for ACME brand) */
    --tw-zinc-50:  #fafafa;
    --tw-zinc-100: #f4f4f5;
    --tw-zinc-200: #e4e4e7;
    --tw-zinc-300: #d4d4d8;
    --tw-zinc-400: #a1a1aa;
    --tw-zinc-500: #71717a;
    --tw-zinc-600: #52525b;
    --tw-zinc-700: #3f3f46;
    --tw-zinc-800: #27272a;
    --tw-zinc-900: #18181b;
    
    /* Slate palette (for TechCorp brand) */
    --tw-slate-50:  #f8fafc;
    --tw-slate-100: #f1f5f9;
    --tw-slate-200: #e2e8f0;
    --tw-slate-300: #cbd5e1;
    --tw-slate-400: #94a3b8;
    --tw-slate-500: #64748b;
    --tw-slate-600: #475569;
    --tw-slate-700: #334155;
    --tw-slate-800: #1e293b;
    --tw-slate-900: #0f172a;
    
    /* Blue palette (default brand) */
    --tw-blue-50:  #eff6ff;
    --tw-blue-100: #dbeafe;
    --tw-blue-200: #bfdbfe;
    --tw-blue-300: #93c5fd;
    --tw-blue-400: #60a5fa;
    --tw-blue-500: #3b82f6;
    --tw-blue-600: #2563eb;
    --tw-blue-700: #1d4ed8;
    --tw-blue-800: #1e40af;
    --tw-blue-900: #1e3a8a;
    
    /* Violet palette (for ACME brand) */
    --tw-violet-50:  #f5f3ff;
    --tw-violet-100: #ede9fe;
    --tw-violet-200: #ddd6fe;
    --tw-violet-300: #c4b5fd;
    --tw-violet-400: #a78bfa;
    --tw-violet-500: #8b5cf6;
    --tw-violet-600: #7c3aed;
    --tw-violet-700: #6d28d9;
    --tw-violet-800: #5b21b6;
    --tw-violet-900: #4c1d95;
    
    /* Emerald palette (for TechCorp brand) */
    --tw-emerald-50:  #ecfdf5;
    --tw-emerald-100: #d1fae5;
    --tw-emerald-200: #a7f3d0;
    --tw-emerald-300: #6ee7b7;
    --tw-emerald-400: #34d399;
    --tw-emerald-500: #10b981;
    --tw-emerald-600: #059669;
    --tw-emerald-700: #047857;
    --tw-emerald-800: #065f46;
    --tw-emerald-900: #064e3b;
    
    /* Rose palette (for Sunset brand) */
    --tw-rose-50:  #fff1f2;
    --tw-rose-100: #ffe4e6;
    --tw-rose-200: #fecdd3;
    --tw-rose-300: #fda4af;
    --tw-rose-400: #fb7185;
    --tw-rose-500: #f43f5e;
    --tw-rose-600: #e11d48;
    --tw-rose-700: #be123c;
    --tw-rose-800: #9f1239;
    --tw-rose-900: #881337;
    
    /* State colors (fixed across brands) */
    --tw-green-600: #16a34a;
    --tw-green-500: #22c55e;
    --tw-amber-600: #d97706;
    --tw-amber-500: #f59e0b;
    --tw-red-600:   #dc2626;
    --tw-red-500:   #ef4444;
  }
  
  /* ==========================================
     SEMANTIC LAYER: Light Theme + Default Brand
     ========================================== */
  
  :root,
  :root[data-theme="light"][data-brand="default"] {
    /* Text */
    --ds-color-text-primary:   var(--tw-neutral-900);
    --ds-color-text-secondary: var(--tw-neutral-600);
    --ds-color-text-muted:     var(--tw-neutral-600);  /* Was 500 (3.88:1), now 600 (7.81:1) - WCAG AA compliant */
    --ds-color-text-inverted:  #ffffff;
    --ds-color-text-link:      var(--tw-blue-600);
    --ds-color-text-link-hover: var(--tw-blue-700);
    
    /* Surface */
    --ds-color-surface-base:    #ffffff;
    --ds-color-surface-subtle:  var(--tw-neutral-50);
    --ds-color-surface-raised:  var(--tw-neutral-100);
    --ds-color-surface-overlay: rgba(0, 0, 0, 0.6);
    --ds-color-surface-glass:   rgba(255, 255, 255, 0.8);
    
    /* Surface Hierarchy (Semantic - Guaranteed Contrast) */
    --ds-surface-page:    var(--ds-color-surface-base);      /* L0: Page background (white) */
    --ds-surface-section: var(--ds-color-surface-subtle);    /* L1: Section/stripe (gray-50) */
    --ds-surface-card:    var(--ds-color-surface-base);      /* L2: Cards/panels (white) */
    --ds-surface-raised:  var(--ds-color-surface-raised);    /* L3: Elevated elements (gray-100) */
    
    /* Border */
    --ds-color-border-subtle:  var(--tw-neutral-200);
    --ds-color-border-strong:  var(--tw-neutral-300);
    --ds-color-border-focus:   var(--tw-blue-500);
    --ds-color-border-error:   var(--tw-red-500);
    
    /* State */
    --ds-color-state-info:     var(--tw-blue-600);
    --ds-color-state-success:  var(--tw-green-600);
    --ds-color-state-warning:  var(--tw-amber-600);
    --ds-color-state-danger:   var(--tw-red-600);
    
    /* Interactive - Primary */
    --ds-color-primary:           var(--tw-blue-600); /* Alias for primary-bg */
    --ds-color-primary-bg:        var(--tw-blue-600);
    --ds-color-primary-bg-hover:  var(--tw-blue-700);
    --ds-color-primary-bg-active: var(--tw-blue-800);
    --ds-color-primary-bg-subtle: rgba(37, 99, 235, 0.08); /* Light hover/highlight */
    --ds-color-primary-text:      #ffffff;
    --ds-color-primary-ring:      var(--tw-blue-500);
    
    /* Interactive - Secondary */
    --ds-color-secondary-bg:        transparent;
    --ds-color-secondary-bg-hover:  var(--tw-neutral-100);
    --ds-color-secondary-bg-active: var(--tw-neutral-200);
    --ds-color-secondary-text:      var(--tw-neutral-700);
    --ds-color-secondary-ring:      var(--tw-neutral-400);
    
    /* Interactive - Ghost */
    --ds-color-ghost-bg:        transparent;
    --ds-color-ghost-bg-hover:  var(--tw-neutral-50);
    --ds-color-ghost-bg-active: var(--tw-neutral-100);
    --ds-color-ghost-text:      var(--tw-neutral-700);
    --ds-color-ghost-ring:      var(--tw-neutral-300);
  }
  
  /* ==========================================
     DARK THEME: Default Brand
     ========================================== */
  
  :root[data-theme="dark"][data-brand="default"],
  :root[data-theme="dark"]:not([data-brand]) {
    /* Text */
    --ds-color-text-primary:   var(--tw-neutral-50);
    --ds-color-text-secondary: var(--tw-neutral-300);
    --ds-color-text-muted:     var(--tw-neutral-400);
    --ds-color-text-inverted:  var(--tw-neutral-900);
    --ds-color-text-link:      var(--tw-blue-400);
    --ds-color-text-link-hover: var(--tw-blue-300);
    
    /* Surface */
    --ds-color-surface-base:    #0b0f14;
    --ds-color-surface-subtle:  var(--tw-neutral-900);
    --ds-color-surface-raised:  var(--tw-neutral-800);
    --ds-color-surface-overlay: rgba(0, 0, 0, 0.8);
    --ds-color-surface-glass:   rgba(0, 0, 0, 0.6);
    
    /* Surface Hierarchy (Semantic - Guaranteed Contrast) */
    --ds-surface-page:    var(--ds-color-surface-base);      /* L0: Page background (dark) */
    --ds-surface-section: var(--ds-color-surface-subtle);    /* L1: Section/stripe (neutral-900) */
    --ds-surface-card:    var(--ds-color-surface-base);      /* L2: Cards/panels (dark) */
    --ds-surface-raised:  var(--ds-color-surface-raised);    /* L3: Elevated elements (neutral-800) */
    
    /* Border */
    --ds-color-border-subtle:  var(--tw-neutral-700);
    --ds-color-border-strong:  var(--tw-neutral-600);
    --ds-color-border-focus:   var(--tw-blue-400);
    --ds-color-border-error:   var(--tw-red-400);
    
    /* State */
    --ds-color-state-info:     var(--tw-blue-400);
    --ds-color-state-success:  var(--tw-green-500);
    --ds-color-state-warning:  var(--tw-amber-500);
    --ds-color-state-danger:   var(--tw-red-500);
    
    /* Interactive - Primary */
    --ds-color-primary:           var(--tw-blue-500); /* Alias for primary-bg */
    --ds-color-primary-bg:        var(--tw-blue-500);
    --ds-color-primary-bg-hover:  var(--tw-blue-600);
    --ds-color-primary-bg-active: var(--tw-blue-700);
    --ds-color-primary-bg-subtle: rgba(59, 130, 246, 0.12); /* Light hover/highlight (dark mode) */
    --ds-color-primary-text:      #000000;
    --ds-color-primary-ring:      var(--tw-blue-400);
    
    /* Interactive - Secondary */
    --ds-color-secondary-bg:        transparent;
    --ds-color-secondary-bg-hover:  var(--tw-neutral-800);
    --ds-color-secondary-bg-active: var(--tw-neutral-700);
    --ds-color-secondary-text:      var(--tw-neutral-200);
    --ds-color-secondary-ring:      var(--tw-neutral-500);
    
    /* Interactive - Ghost */
    --ds-color-ghost-bg:        transparent;
    --ds-color-ghost-bg-hover:  var(--tw-neutral-800);
    --ds-color-ghost-bg-active: var(--tw-neutral-700);
    --ds-color-ghost-text:      var(--tw-neutral-300);
    --ds-color-ghost-ring:      var(--tw-neutral-600);
  }
  
  /* ==========================================
     BRAND: ACME (Violet)
     ========================================== */
  
  :root[data-brand="acme"] {
    /* Swap neutral to zinc */
    --ds-color-text-primary:   var(--tw-zinc-900);
    --ds-color-surface-subtle:  var(--tw-zinc-50);
    --ds-color-border-subtle:   var(--tw-zinc-200);
    
    /* Swap brand to violet */
    --ds-color-text-link:      var(--tw-violet-600);
    --ds-color-border-focus:   var(--tw-violet-500);
    --ds-color-state-info:     var(--tw-violet-600);
    
    --ds-color-primary-bg:        var(--tw-violet-600);
    --ds-color-primary-bg-hover:  var(--tw-violet-700);
    --ds-color-primary-bg-active: var(--tw-violet-800);
    --ds-color-primary-ring:      var(--tw-violet-500);
  }
  
  :root[data-theme="dark"][data-brand="acme"] {
    /* Inherit FULL dark mode foundation */
    /* Text */
    --ds-color-text-primary:   var(--tw-zinc-50);
    --ds-color-text-secondary: var(--tw-zinc-300);
    --ds-color-text-muted:     var(--tw-zinc-400);
    --ds-color-text-inverted:  var(--tw-zinc-900);
    --ds-color-text-link:      var(--tw-violet-400);
    --ds-color-text-link-hover: var(--tw-violet-300);
    
    /* Surface */
    --ds-color-surface-base:    #0b0f14;
    --ds-color-surface-subtle:  var(--tw-zinc-900);
    --ds-color-surface-raised:  var(--tw-zinc-800);
    --ds-color-surface-overlay: rgba(0, 0, 0, 0.8);
    --ds-color-surface-glass:   rgba(0, 0, 0, 0.6);
    
    /* Border */
    --ds-color-border-subtle:  var(--tw-zinc-700);
    --ds-color-border-strong:  var(--tw-zinc-600);
    --ds-color-border-focus:   var(--tw-violet-400);
    --ds-color-border-error:   var(--tw-red-400);
    
    /* State */
    --ds-color-state-info:     var(--tw-violet-400);
    --ds-color-state-success:  var(--tw-green-500);
    --ds-color-state-warning:  var(--tw-amber-500);
    --ds-color-state-danger:   var(--tw-red-500);
    
    /* Interactive - Primary */
    --ds-color-primary:           var(--tw-violet-500); /* Alias for primary-bg */
    --ds-color-primary-bg:        var(--tw-violet-500);
    --ds-color-primary-bg-hover:  var(--tw-violet-600);
    --ds-color-primary-bg-active: var(--tw-violet-700);
    --ds-color-primary-text:      #000000;
    --ds-color-primary-ring:      var(--tw-violet-400);
    
    /* Interactive - Secondary */
    --ds-color-secondary-bg:        transparent;
    --ds-color-secondary-bg-hover:  var(--tw-zinc-800);
    --ds-color-secondary-bg-active: var(--tw-zinc-700);
    --ds-color-secondary-text:      var(--tw-zinc-200);
    --ds-color-secondary-ring:      var(--tw-zinc-500);
    
    /* Interactive - Ghost */
    --ds-color-ghost-bg:        transparent;
    --ds-color-ghost-bg-hover:  var(--tw-zinc-800);
    --ds-color-ghost-bg-active: var(--tw-zinc-700);
    --ds-color-ghost-text:      var(--tw-zinc-300);
    --ds-color-ghost-ring:      var(--tw-zinc-600);
  }
  
  /* ==========================================
     BRAND: TechCorp (Emerald)
     ========================================== */
  
  :root[data-brand="techcorp"] {
    /* Swap neutral to slate */
    --ds-color-text-primary:   var(--tw-slate-900);
    --ds-color-surface-subtle:  var(--tw-slate-50);
    --ds-color-border-subtle:   var(--tw-slate-200);
    
    /* Swap brand to emerald */
    --ds-color-text-link:      var(--tw-emerald-600);
    --ds-color-border-focus:   var(--tw-emerald-500);
    --ds-color-state-info:     var(--tw-emerald-600);
    
    --ds-color-primary:           var(--tw-emerald-600); /* Alias for primary-bg */
    --ds-color-primary-bg:        var(--tw-emerald-600);
    --ds-color-primary-bg-hover:  var(--tw-emerald-700);
    --ds-color-primary-bg-active: var(--tw-emerald-800);
    --ds-color-primary-text:      #ffffff;
    --ds-color-primary-ring:      var(--tw-emerald-500);
  }
  
  :root[data-theme="dark"][data-brand="techcorp"] {
    /* Inherit FULL dark mode foundation */
    /* Text */
    --ds-color-text-primary:   var(--tw-slate-50);
    --ds-color-text-secondary: var(--tw-slate-300);
    --ds-color-text-muted:     var(--tw-slate-400);
    --ds-color-text-inverted:  var(--tw-slate-900);
    --ds-color-text-link:      var(--tw-emerald-400);
    --ds-color-text-link-hover: var(--tw-emerald-300);
    
    /* Surface */
    --ds-color-surface-base:    #0b0f14;
    --ds-color-surface-subtle:  var(--tw-slate-900);
    --ds-color-surface-raised:  var(--tw-slate-800);
    --ds-color-surface-overlay: rgba(0, 0, 0, 0.8);
    --ds-color-surface-glass:   rgba(0, 0, 0, 0.6);
    
    /* Border */
    --ds-color-border-subtle:  var(--tw-slate-700);
    --ds-color-border-strong:  var(--tw-slate-600);
    --ds-color-border-focus:   var(--tw-emerald-400);
    --ds-color-border-error:   var(--tw-red-400);
    
    /* State */
    --ds-color-state-info:     var(--tw-emerald-400);
    --ds-color-state-success:  var(--tw-green-500);
    --ds-color-state-warning:  var(--tw-amber-500);
    --ds-color-state-danger:   var(--tw-red-500);
    
    /* Interactive - Primary */
    --ds-color-primary:           var(--tw-emerald-500); /* Alias for primary-bg */
    --ds-color-primary-bg:        var(--tw-emerald-500);
    --ds-color-primary-bg-hover:  var(--tw-emerald-600);
    --ds-color-primary-bg-active: var(--tw-emerald-700);
    --ds-color-primary-text:      #000000;
    --ds-color-primary-ring:      var(--tw-emerald-400);
    
    /* Interactive - Secondary */
    --ds-color-secondary-bg:        transparent;
    --ds-color-secondary-bg-hover:  var(--tw-slate-800);
    --ds-color-secondary-bg-active: var(--tw-slate-700);
    --ds-color-secondary-text:      var(--tw-slate-200);
    --ds-color-secondary-ring:      var(--tw-slate-500);
    
    /* Interactive - Ghost */
    --ds-color-ghost-bg:        transparent;
    --ds-color-ghost-bg-hover:  var(--tw-slate-800);
    --ds-color-ghost-bg-active: var(--tw-slate-700);
    --ds-color-ghost-text:      var(--tw-slate-300);
    --ds-color-ghost-ring:      var(--tw-slate-600);
  }
  
  /* ==========================================
     BRAND: Sunset (Rose)
     ========================================== */
  
  :root[data-brand="sunset"] {
    --ds-color-text-link:      var(--tw-rose-600);
    --ds-color-border-focus:   var(--tw-rose-500);
    --ds-color-state-info:     var(--tw-rose-600);
    
    --ds-color-primary:           var(--tw-rose-600); /* Alias for primary-bg */
    --ds-color-primary-bg:        var(--tw-rose-600);
    --ds-color-primary-bg-hover:  var(--tw-rose-700);
    --ds-color-primary-bg-active: var(--tw-rose-800);
    --ds-color-primary-text:      #ffffff;
    --ds-color-primary-ring:      var(--tw-rose-500);
  }
  
  :root[data-theme="dark"][data-brand="sunset"] {
    /* Inherit FULL dark mode foundation */
    /* Text */
    --ds-color-text-primary:   var(--tw-neutral-50);
    --ds-color-text-secondary: var(--tw-neutral-300);
    --ds-color-text-muted:     var(--tw-neutral-400);
    --ds-color-text-inverted:  var(--tw-neutral-900);
    --ds-color-text-link:      var(--tw-rose-400);
    --ds-color-text-link-hover: var(--tw-rose-300);
    
    /* Surface */
    --ds-color-surface-base:    #0b0f14;
    --ds-color-surface-subtle:  var(--tw-neutral-900);
    --ds-color-surface-raised:  var(--tw-neutral-800);
    --ds-color-surface-overlay: rgba(0, 0, 0, 0.8);
    --ds-color-surface-glass:   rgba(0, 0, 0, 0.6);
    
    /* Border */
    --ds-color-border-subtle:  var(--tw-neutral-700);
    --ds-color-border-strong:  var(--tw-neutral-600);
    --ds-color-border-focus:   var(--tw-rose-400);
    --ds-color-border-error:   var(--tw-red-400);
    
    /* State */
    --ds-color-state-info:     var(--tw-rose-400);
    --ds-color-state-success:  var(--tw-green-500);
    --ds-color-state-warning:  var(--tw-amber-500);
    --ds-color-state-danger:   var(--tw-red-500);
    
    /* Interactive - Primary */
    --ds-color-primary:           var(--tw-rose-500); /* Alias for primary-bg */
    --ds-color-primary-bg:        var(--tw-rose-500);
    --ds-color-primary-bg-hover:  var(--tw-rose-600);
    --ds-color-primary-bg-active: var(--tw-rose-700);
    --ds-color-primary-text:      #000000;
    --ds-color-primary-ring:      var(--tw-rose-400);
    
    /* Interactive - Secondary */
    --ds-color-secondary-bg:        transparent;
    --ds-color-secondary-bg-hover:  var(--tw-neutral-800);
    --ds-color-secondary-bg-active: var(--tw-neutral-700);
    --ds-color-secondary-text:      var(--tw-neutral-200);
    --ds-color-secondary-ring:      var(--tw-neutral-500);
    
    /* Interactive - Ghost */
    --ds-color-ghost-bg:        transparent;
    --ds-color-ghost-bg-hover:  var(--tw-neutral-800);
    --ds-color-ghost-bg-active: var(--tw-neutral-700);
    --ds-color-ghost-text:      var(--tw-neutral-300);
    --ds-color-ghost-ring:      var(--tw-neutral-600);
  }
}
