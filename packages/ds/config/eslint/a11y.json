{
  "extends": ["plugin:jsx-a11y/recommended"],
  "plugins": ["jsx-a11y"],
  "rules": {
    // === CRITICAL: Cannot ship without these ===
    
    // Touch Targets (44x44px minimum)
    "jsx-a11y/click-events-have-key-events": ["error", {
      "message": "❌ ACCESSIBILITY: Clickable elements MUST be keyboard accessible. WHY: 15% of users cannot use a mouse. Add onKeyDown or use <button> instead of <div>."
    }],
    
    // Labels for ALL inputs
    "jsx-a11y/label-has-associated-control": ["error", {
      "message": "❌ ACCESSIBILITY: Every input MUST have a label. WHY: Screen readers can't announce 'Email' without a <label>. 8% of users are blind or low-vision."
    }],
    
    // Alt text for images
    "jsx-a11y/alt-text": ["error", {
      "message": "❌ ACCESSIBILITY: Images MUST have alt text. WHY: Screen readers read 'image' instead of context. Makes content meaningless for blind users."
    }],
    
    // Heading hierarchy
    "jsx-a11y/heading-has-content": ["error", {
      "message": "❌ ACCESSIBILITY: Headings cannot be empty. WHY: Screen reader users navigate by headings. Empty headings break navigation."
    }],
    
    // Tab index
    "jsx-a11y/no-noninteractive-tabindex": ["error", {
      "message": "❌ ACCESSIBILITY: Don't add tabindex to non-interactive elements. WHY: Creates confusing tab order. Makes keyboard navigation unpredictable."
    }],
    
    // ARIA usage
    "jsx-a11y/aria-props": ["error", {
      "message": "❌ ACCESSIBILITY: Invalid ARIA attribute. WHY: Screen readers ignore invalid ARIA, breaking announcements. Use aria-label, not aria-labelledby."
    }],
    
    "jsx-a11y/aria-proptypes": ["error", {
      "message": "❌ ACCESSIBILITY: ARIA attribute has wrong type. WHY: aria-expanded must be 'true'/'false', not boolean. Screen readers expect strings."
    }],
    
    "jsx-a11y/aria-role": ["error", {
      "message": "❌ ACCESSIBILITY: Invalid ARIA role. WHY: role='button' is valid, role='btn' is not. Screen readers won't recognize element."
    }],
    
    // Interactive elements
    "jsx-a11y/interactive-supports-focus": ["error", {
      "message": "❌ ACCESSIBILITY: Interactive elements MUST be focusable. WHY: Keyboard users can't activate unfocusable elements. Add tabindex={0}."
    }],
    
    // No positive tabindex
    "jsx-a11y/tabindex-no-positive": ["error", {
      "message": "❌ ACCESSIBILITY: Never use positive tabindex. WHY: Breaks natural tab order. Makes keyboard navigation unpredictable. Use 0 or -1."
    }],
    
    // === WARNINGS: Should fix but not blocking ===
    
    // Autofocus
    "jsx-a11y/no-autofocus": ["warn", {
      "message": "⚠️ ACCESSIBILITY: Avoid autofocus. WHY: Surprises screen reader users mid-announcement. Disorients keyboard users."
    }],
    
    // Redundant alt
    "jsx-a11y/img-redundant-alt": ["warn", {
      "message": "⚠️ ACCESSIBILITY: Don't use 'image' or 'photo' in alt text. WHY: Screen readers already announce 'image'. Say WHAT it is, not THAT it is."
    }],
    
    // Custom rules (our additions)
    "no-hardcoded-colors": "off", // We have this in design-system.json
    "min-contrast-ratio": "off"   // We test this in Playwright
  },
  
  "overrides": [
    {
      "files": ["*.tsx"],
      "rules": {
        // React-specific
        "jsx-a11y/anchor-is-valid": ["error", {
          "message": "❌ ACCESSIBILITY: <a> without href is not a link. WHY: Screen readers announce 'link' but it goes nowhere. Use <button> instead."
        }]
      }
    }
  ]
}
